<!DOCTYPE html>
<html>
    <head>
        <title>My First Web Page</title>
        <link rel="stylesheet" type="text/css" href="static/style.css">
    </head>
    <body>
        <div id="score">
            {% for row in data %}
                <div id="day-container">
                    {% for time in row %}
                        <div class="day" data-time="{{ time.value }}">{{ time.humanTime }}</div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const days = document.querySelectorAll('.day');
                days.forEach(day => {
                    const time = parseFloat(day.getAttribute('data-time'));
                    const red = Math.min(255, Math.max(0, (time / 4) * 255));
                    const blue = 255 - red;
                    const grey = 128;
                    const green = Math.min(100, Math.max(0, (time / 4) * 100));
                    day.style.backgroundColor = `rgb(${red}, ${green}, ${blue})`;
                });

                // Reload the page every hour (3600000 milliseconds)
                setInterval(function() {
                    location.reload();
                }, 3600000);

                // Redirect to add-day when 'q' is pressed
                document.addEventListener('keydown', function(event) {
                    if (event.key === 'q' || event.key === 'Q') {
                        window.location.href = 'add-day';
                    }
                });
            });
        </script>
    </body>
</html>